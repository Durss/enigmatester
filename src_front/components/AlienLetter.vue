<template>
	<div :class="classes">
		<div :class="'circle' +(enabled?'':' dotted')" ref="circle" v-if="!isSlot"></div>

		<svg viewBox="0 0 101.5 109.3" v-if="enabled && computedValue == 0">
			<path d="M63.3,23.1c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C72.5,27.2,68.3,23.1,63.3,23.1z"/>
			<path d="M46.9,18.3c-4,1.9-7.4,3.6-9.7,5.4c-0.6,0.5-1.1,0.9-1.6,1.4s-0.7,0.8-1.1,1.3c-0.6,0.9-1,1.8-1.2,2.6
				c-0.1,0.4-0.1,0.7-0.1,1s0,0.4,0,0.6v0.1c0,0,0,0,0,0.1s0.1,0.1,0.1,0.2s0.2,0.2,0.3,0.4c0.1,0.1,0.3,0.3,0.5,0.5
				c0.8,0.8,2.1,1.8,3.9,3.1c1.7,1.2,3.8,2.6,6.2,4.6l0.9,0.8c0.3,0.3,0.6,0.6,0.9,0.9l0.9,0.9l0.9,1.1c0.3,0.4,0.6,0.7,0.9,1.2
				c0.3,0.4,0.6,0.9,0.8,1.4c0.6,0.9,1,1.9,1.4,3c0.4,1,0.7,2.1,0.9,3.3c0.2,1.1,0.3,2.3,0.3,3.4c0,2.3-0.5,4.6-1.3,6.6
				c-0.8,2-1.8,3.7-2.9,5.2c-1.1,1.5-2.4,2.8-3.7,3.9s-2.7,2.1-4.1,2.9c-1.4,0.8-3,1.6-4.3,2.1c-2.7,1-5.2,1.7-7.4,2.2
				s-4.1,1-5.7,1.5c-0.8,0.3-1.6,0.6-2,0.8c-0.5,0.3-1.1,0.6-1.6,0.9c-1,0.7-1.7,1.5-2,2c-0.2,0.3-0.2,0.4-0.3,0.5
				c0,0.1-0.1,0.1-0.1,0.2c-0.1,0.2,0.2,0.8,1.1,1.7c0.9,0.9,2.2,1.9,3.8,2.7c0.8,0.4,1.8,0.9,2.6,1.3c0.9,0.4,1.7,0.9,2.7,1.3
				c7.3,3.2,15.3,5,23.6,5.3l3.1,0.1c0.5,0,1,0,1.5,0l1.5-0.1l3.1-0.2l3.1-0.4c2.1-0.2,4.1-0.7,6.2-1c1-0.2,2-0.5,3-0.8s2-0.5,3-0.8
				C83,91,90.7,87,97.5,81.7l0,0c1.1-0.8,2.7-0.6,3.5,0.5c0.7,1,0.7,2.3-0.1,3.2c-6.2,7-14,12.6-22.6,16.7c-8.7,4-18.1,6.3-27.8,7
				c-1.2,0.1-2.4,0.1-3.6,0.1c-1.2,0-2.4,0.1-3.7,0l-3.7-0.2c-0.6,0-1.2-0.1-1.8-0.1l-1.8-0.2l-3.7-0.5c-1.2-0.2-2.4-0.5-3.6-0.8
				c-2.4-0.5-4.8-1.3-7.2-2c-1.2-0.3-2.3-0.9-3.5-1.3c-1.2-0.5-2.3-0.9-3.5-1.4c-2.4-1.1-4.9-2.5-7.4-4.6c-1.2-1-2.5-2.3-3.6-3.8
				s-2.1-3.4-2.7-5.4s-0.8-4.3-0.6-6.4c0.2-2.2,0.8-4.2,1.6-5.9c1.6-3.5,4-6.1,6.5-8.2c1.3-1,2.6-2,4.1-2.8s2.8-1.4,4.1-1.9
				c2.6-1,5-1.7,7.1-2.4c2.1-0.6,3.9-1.2,5.3-1.9c0.8-0.3,1.2-0.6,1.7-0.9c0.5-0.3,0.9-0.7,1.3-1c0.8-0.7,1.2-1.5,1.2-1.7
				s-0.1,0.3-0.1,0.2l0,0c0,0,0,0,0-0.1c0,0-0.1-0.1-0.2-0.2c-0.1-0.1-0.1-0.1-0.1-0.2l-0.3-0.3L32,54.8l-0.4-0.3
				c-1.1-0.9-2.7-2-4.7-3.3s-4.3-2.9-6.7-5.2c-0.6-0.6-1.2-1.2-1.8-1.9c-0.6-0.8-1.2-1.4-1.7-2.3c-0.5-0.9-1.1-1.7-1.5-2.7
				c-0.2-0.5-0.4-1-0.6-1.5c-0.2-0.5-0.3-1-0.5-1.5c-0.6-2-0.8-4.1-0.8-6c0-2,0.3-3.8,0.7-5.6c0.9-3.5,2.4-6.7,4.4-9.5
				c1-1.4,2.2-2.8,3.3-3.8c1.1-1.1,2.3-2.1,3.5-3c4.8-3.6,9.6-5.6,13.7-7.4c4.9-2.2,10.7,0.1,12.8,5C53.8,10.5,51.7,16.1,46.9,18.3
				L46.9,18.3z"/>
			<path d="M55.5,71.7c4.9-1.9,9.6-4.5,13.7-7.9c4.1-3.5,7.7-7.6,10.3-12.4c2.6-4.8,4.4-10.3,5.1-16.2s0.3-12.1-1.1-18.5
				v-0.1c-0.3-1.4,0.5-2.8,1.9-3.1c1-0.2,1.9,0.1,2.5,0.8c4.7,5.6,7.7,12.7,9,20.3c1.3,7.5,0.7,15.6-1.8,23.2s-7,14.6-12.8,20.3
				c-5.8,5.6-13,10-20.9,12.2c-5.2,1.4-10.5-1.7-12-6.8c-1.3-4.8,1.3-9.8,5.8-11.6L55.5,71.7z"/>
		</svg>

		<svg viewBox="0 0 101.8 108.1" v-if="enabled && computedValue == 1">
			<path d="M26.6,107.5c-4.4-1.4-8.4-4-11.4-7.2s-5.1-6.8-6.6-10.7c-1.4-3.8-2.1-7.9-2-12c0-3.9,0.8-7.7,2-11.2
				c2.3-7,6.4-12.8,11-17.5s9.7-8.4,15-11.5c1.2-0.7,2.8-0.3,3.5,0.9c0.5,0.8,0.5,1.8,0,2.6l0,0c-3,5.3-6.2,10.3-8.6,15.2
				c-1.2,2.5-2.2,4.9-3,7.3c-0.8,2.4-1.3,4.8-1.6,7c-0.3,2.3-0.2,4.4,0.1,6.4c0.3,1.9,0.9,3.7,1.7,5.4c0.8,1.6,1.8,3.2,3,4.2
				c1.1,1.2,2.2,1.9,3.4,2.5l1.2,0.7c4.7,2.6,6.3,8.6,3.6,13.2C35.6,107,30.9,108.8,26.6,107.5z"/>
			<path d="M41.3,67.4c7.7-2.7,15-5.1,21.3-8.5C69,55.7,74.3,51.6,78,46.5s5.6-10.8,5.2-16.7c-0.2-2.9-1-5.5-2.2-7.7
				c-1.2-2-3-3.8-5.2-4.9c-2.2-1-4.4-1.4-6.3-0.9c-0.9,0.2-2.2,0.7-3.7,1.7c-1.5,0.9-3.2,2.1-5.4,3.3c-1.1,0.6-2.2,1.2-3.5,1.8
				c-1.3,0.6-2.7,1-4.2,1.4c-3,0.7-6.3,0.7-9.1,0c-2.8-0.7-5.1-1.7-7.2-2.7c-2-1-3.7-1.9-5.3-2.7c-0.8-0.4-1.6-0.7-2.3-1
				c-0.7-0.3-1.4-0.5-2.2-0.6c-1.5-0.3-3-0.4-4.6-0.4c-3.1,0.2-6.1,1.3-8.6,3.2c-5.1,4-8.2,11.5-7.3,18.7v0.1c0.2,1.4-0.8,2.6-2.2,2.8
				c-1.2,0.1-2.3-0.6-2.7-1.7c-0.6-2.1-1.1-4.4-1.2-6.7s0.1-4.7,0.6-7c1-4.6,3.1-9.1,6.6-12.8s8.2-6.3,13.3-7.3
				C23,6,25.6,5.8,28.2,6.1c1.3,0.1,2.6,0.3,3.8,0.6s2.4,0.6,3.5,1c4.4,1.5,8,3.2,10.5,3.4c1.2,0.1,2.1,0,3.1-0.4
				c0.5-0.2,1-0.4,1.5-0.7c0.6-0.3,1.2-0.7,1.8-1.2c1.4-1,2.9-2.2,4.8-3.6c1.9-1.4,4.3-2.9,7.3-3.9c2.9-1,6.1-1.5,9.1-1.3
				c3,0.1,6,0.8,8.7,1.9c5.4,2.2,10.1,5.9,13.4,10.8c3.2,4.7,5.1,10.1,5.7,15.4c0.7,5.3,0.3,10.6-1.1,15.8c-1.3,5.1-3.7,9.8-6.5,14
				c-2.9,4.2-6.3,7.9-10.1,11c-3.7,2.9-7.7,5.5-11.8,7.7c-8.3,4.3-16.7,7-24.5,9.4c-5.2,1.5-10.6-1.4-12.1-6.5
				C33.7,74.4,36.5,69.1,41.3,67.4z"/>
			<path d="M58.7,33.6c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C67.9,37.7,63.8,33.6,58.7,33.6z"/>
		</svg>

		<svg viewBox="0 0 116.5 105.6" v-if="enabled && computedValue == 2">
			<path d="M83.6,2.8c4.5,4.4,7.3,10.1,8.5,16s0.8,12.1-1.2,17.8c-2.1,5.7-5.7,10.4-10.1,13.8c-4.4,3.4-9.7,5.4-14.9,5.5
				c-1.4,0-2.6-1.1-2.7-2.6c0-0.8,0.3-1.5,0.9-2l0.1-0.1c3.3-2.8,5.7-5.9,7.4-9.1c1.7-3.2,2.6-6.5,2.8-9.6c0.2-3-0.3-6.1-1.3-8.9
				s-2.4-5.3-4-7.6l-0.4-0.5C65.8,11.1,66.8,5,71.1,1.8C75-1,80.3-0.5,83.6,2.8z"/>
			<path d="M111.9,11.4c3.4,6.7,4.9,14.6,4.6,22.4c-0.3,7.9-2.5,15.8-6.5,23.1c-4,7.2-9.8,13.5-16.6,18.1
				c-6.8,4.7-14.8,8-23.2,8.9c-5.3,0.6-10.2-3.2-10.8-8.6c-0.6-5,2.8-9.6,7.6-10.6l0.2-0.1c5.4-1.2,10.8-3.1,15.7-6
				c4.9-2.9,9.4-6.6,13-11.1s6.5-9.9,8.5-15.8c1.9-5.9,2.9-12.4,2.7-19.2v-0.1c0-1.4,1.1-2.6,2.5-2.6C110.6,10,111.4,10.6,111.9,11.4z
				"/>
			<path d="M5.6,87c4.3-2.1,8.4-4.1,12-6.3c3.7-2.2,6.8-4.7,8.9-7.2c1-1.2,1.7-2.4,2.2-3.6c0.5-1.1,0.7-2.2,0.6-3.5
				c0-0.3-0.1-0.6-0.1-0.9c-0.1-0.3-0.1-0.6-0.2-0.9c-0.1-0.7-0.4-1.4-0.8-2.2c-0.7-1.6-1.9-3.7-3.2-6c-0.7-1.2-1.4-2.5-2-4
				c-0.7-1.4-1.3-3.1-1.7-4.6c-0.9-3.1-1.4-6.3-1.4-9.4s0.4-6.3,1.1-9.3s1.9-5.9,3.5-8.6c1.5-2.6,3.5-5.1,5.8-7.2s4.9-3.7,7.5-4.9
				C43,5.9,48.1,4.9,53,3.9c1.4-0.3,2.7,0.6,3,2c0.2,1.1-0.3,2.2-1.2,2.7l0,0c-4.4,2.5-8.9,4.8-12.3,7.6c-3.5,2.7-5.6,5.9-6.8,9.7
				c-1.3,3.7-1.6,7.7-0.9,11.4c0.3,1.9,0.9,3.6,1.6,5.3c0.4,0.8,0.8,1.5,1.3,2.3s1.1,1.6,1.7,2.6c1.3,1.9,3,4,4.6,6.8
				c1.6,2.7,3.1,6.4,3.6,10.1c0.3,1.8,0.3,3.8,0.2,5.7c-0.2,1.9-0.5,3.8-1,5.7c-1,3.7-2.9,6.9-4.9,9.6c-4.1,5.5-9,9.2-13.8,12.3
				c-4.9,3-9.8,5.4-14.8,7.3c-5,2-10.7-0.5-12.6-5.5C-1.2,94.6,0.9,89.3,5.6,87L5.6,87z"/>
			<path d="M55.8,22.3c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C65,26.4,60.9,22.3,55.8,22.3z"/>
		</svg>

		<svg viewBox="0 0 92.2 98.7" v-if="enabled && computedValue == 3">
			<path d="M66.4,79.3c1.4-0.3,2.9-1.1,4-2.3c1.1-1.2,1.7-2.3,1.9-3.9c0.2-1.6-0.1-3.3-0.8-4.5c-0.4-0.7-0.9-1.4-1.8-2.3
				c-0.8-0.9-1.9-1.8-3.1-2.8c-2.5-2-5.9-4.3-9.3-7.6c-1.7-1.7-3.4-3.7-4.9-6.1c-0.4-0.6-0.7-1.2-1-1.9l-0.5-1l-0.5-1.1
				c-0.6-1.5-1-3.1-1.2-4.6c-0.4-3.1-0.3-6.3,0.8-9.6c1-3.2,3.3-6.7,6.6-8.9c1.6-1.1,3.3-1.8,5-2.3c1.6-0.5,3.2-0.7,4.6-0.8
				c2.7-0.1,4.9,0.1,6.6,0.2l1.2,0.1h0.5c0.1,0,0.2,0,0.4,0c0.5,0,1,0,1.4,0s0.7-0.1,0.9-0.2c0.2,0,0.2,0,0.1,0.1
				c-0.1,0.2-0.4,0.6-0.4,1c0,0.2-0.1,0.4,0,0.5c0,0.1,0,0.2,0,0.3c0,0.1,0,0.2,0.1,0.3c0.1,0.3,0.3,0.5,0.2,0.3
				c0-0.1-0.2-0.4-0.5-0.7C76,21,75,20.3,73.8,19.6c-0.5-0.3-1.4-0.7-2.1-1c-0.8-0.4-1.5-0.7-2.3-1.1c-3.1-1.4-6.4-2.6-9.7-3.7
				C46.5,9.5,32.3,7.6,18,8.5l0,0c-1.4,0.1-2.6-1-2.7-2.4c-0.1-1.2,0.7-2.3,1.8-2.6c14.6-4.1,30.3-4.6,45.6-1.7
				c3.8,0.7,7.6,1.6,11.4,2.8C75,5,76,5.3,76.9,5.6c1,0.3,1.8,0.6,2.9,1.1c2.2,0.9,4.3,2,6.5,3.8c1.1,0.9,2.2,1.9,3.2,3.4
				c1,1.4,1.9,3.2,2.4,5.4c0.1,0.5,0.2,1.1,0.2,1.6c0,0.6,0,1.1,0,1.7c-0.1,1.1-0.2,2.2-0.6,3.2c-0.6,2.1-1.9,4.1-3.3,5.6
				c-1.4,1.5-3,2.5-4.5,3.2s-2.9,1.2-4.3,1.5s-2.7,0.5-4.1,0.6c-0.3,0-0.7,0-1,0h-0.9h-1.5c-1.9,0-3.4,0-4.4,0.1s-1,0.4-0.8,0.3
				c0.3-0.1,0.4-0.4,0.4-0.1c0,0.2,0,0.8,0.1,1.3c0.2,0.6,0.3,0.8,0.8,1.6c0.5,0.7,1.2,1.5,2.2,2.3c1.9,1.7,4.6,3.5,8,5.9
				c1.7,1.2,3.4,2.6,5.2,4.3c1.8,1.7,3.6,3.8,5,6.3c3,5.2,4.1,11,3.4,16.7c-0.3,2.9-1.2,5.7-2.5,8.4c-1.3,2.7-3,5.1-5.1,7.1
				c-4.1,4.1-9.4,6.8-15.3,7.6c-5.3,0.7-10.2-3-10.9-8.3c-0.7-5.1,2.7-9.8,7.6-10.8L66.4,79.3z"/>
			<path d="M25.3,93.5c-3.9-1.1-7.6-3-10.8-5.4s-5.9-5.3-8.1-8.5C2,73.1-0.4,65.3,0.1,57.4C0.5,49.5,3.8,42.3,8.6,37
				s11.2-9.1,18-9.8c1.4-0.2,2.7,0.9,2.8,2.3c0.1,0.9-0.3,1.8-1,2.3l-0.1,0.1c-4.5,3.4-7.6,7.6-9.5,12.1s-2.5,9.1-1.9,13.2
				c0.7,4,2.5,7.9,5.2,11c2.6,3.2,5.9,5.5,9.3,7l0.4,0.2c4.9,2.1,7.2,7.9,5,12.8C34.9,92.6,29.9,94.8,25.3,93.5z"/>
			<path d="M37.1,45.9c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C46.2,50,42.1,45.9,37.1,45.9z"/>
		</svg>

		<svg viewBox="0 0 101.7 112.1" v-if="enabled && computedValue == 4">
			<path d="M15.9,77.6c5.4,4.3,11.2,8,17.2,10.6c6,2.7,12.4,4.2,18.5,4.5c6.1,0.2,12.5-1,18-3.6c2.7-1.3,5.3-2.9,7.5-4.8
				c1.1-1,2.1-2,3.1-3.1c0.5-0.5,0.9-1.1,1.3-1.7s0.8-1.2,1.2-1.8c2.9-5,4.3-11.3,3.5-17.1c-0.4-2.9-1.2-5.7-2.7-8.2
				c-1.4-2.4-3.5-4.7-6.2-7.1s-5.8-4.8-8.9-7.9c-3-3-6-6.9-7.5-11.5c-1.5-4.5-1.6-9.2-0.7-13.5c1-4.4,3.1-8.4,6.1-11.6
				c1-1,2.6-1,3.5,0c0.9,0.8,1,2.2,0.4,3.1l-0.1,0.1c-0.9,1.4-1.6,3-2,4.6c-0.5,1.6-0.8,3.2-0.8,4.8c-0.1,3.2,0.6,6.5,2,9.1
				s3.5,4.8,6.2,6.8c2.7,2.1,5.9,4,9.3,6.3c1.7,1.2,3.4,2.4,5.1,4c1.7,1.5,3.3,3.3,4.8,5.3c2.9,3.9,4.8,8.4,5.9,13s1.3,9.4,0.8,14.1
				s-1.8,9.3-3.9,13.6c-0.6,1.1-1.1,2.1-1.7,3.2c-0.7,1-1.3,2.1-2,3c-1.4,1.9-3,3.8-4.6,5.4c-3.4,3.4-7.2,6.2-11.3,8.4
				c-8.2,4.4-17.3,6.6-26.6,6.6c-9.2,0-18.1-2.2-26.2-5.7c-8-3.6-15.3-8.3-21.7-13.9c-4.1-3.5-4.5-9.7-0.9-13.7
				C5.9,74.9,11.8,74.4,15.9,77.6L15.9,77.6z"/>
			<path d="M34.9,82.3c-9.6-3.6-16.8-12-19-22c-1.1-5-0.9-10,0.4-14.8c0.6-2.4,1.6-4.7,2.8-6.8c1.2-2.2,2.7-4.2,4.2-5.8
				c3.1-3.3,6.2-5.6,8.8-7.6c2.7-2,4.6-3.6,6.5-5.9c3.7-4.5,6.3-10.3,7.3-16.9V2.4C46.1,1,47.4,0,48.8,0.2c1,0.1,1.8,0.8,2.1,1.7
				c2.2,7.5,1.6,16.1-1.8,23.7c-1.6,3.8-4.3,7.6-6.8,10.4c-2.5,2.9-4.7,5.3-6,7.4c-0.7,1.1-1.1,2-1.5,3c-0.3,1-0.6,2.1-0.7,3.1
				c-0.2,2.1-0.1,4.2,0.5,6.1c1.1,3.6,4.2,7,7.6,8.7l0.5,0.2c4.8,2.4,6.7,8.3,4.3,13.1C44.7,82.1,39.4,84.1,34.9,82.3z"/>
			<path d="M56.2,44.3c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C65.3,48.4,61.2,44.3,56.2,44.3z"/>
		</svg>

		<svg viewBox="0 0 118.5 109.2" v-if="enabled && computedValue == 5">
			<path d="M39.8,44.7c-5.3,0.2-11,2.8-14.8,6.9c-0.5,0.5-0.9,1-1.4,1.6c-0.4,0.6-0.8,1.1-1.2,1.7c-0.4,0.6-0.7,1.2-1,1.7
				c-0.2,0.6-0.6,1.2-0.8,1.9c-0.9,2.5-1.3,5.4-1.2,8.2c0.1,1.4,0.3,2.8,0.6,4.2c0.4,1.4,0.8,2.7,1.4,4s1.3,2.5,2.1,3.6
				c0.5,0.6,1.1,1.3,1.6,1.9l0.8,1c0.3,0.3,0.6,0.6,0.9,0.9c4.7,4.7,10.3,8.2,16.8,9.6c1.6,0.4,3.3,0.6,4.9,0.8l2.5,0.1
				c0.9,0,1.7,0,2.6,0c3.5-0.2,7-0.6,10.5-1.6c3.5-0.9,7-2.1,10.4-3.7s6.7-3.4,9.9-5.5c6.3-4.2,12.2-9.3,17.2-15.3
				c2.5-3,4.8-6.1,6.8-9.5c0.5-0.8,0.9-1.7,1.4-2.6l0.7-1.3l0.6-1.3c0.9-1.8,1.6-3.6,2.3-5.4v-0.1c0.5-1.3,2-1.9,3.2-1.4
				c1.1,0.4,1.7,1.6,1.6,2.7c-0.6,4.3-1.8,8.5-3.4,12.6c-1.5,4.1-3.6,7.9-5.9,11.7c-2.3,3.7-5,7.2-7.8,10.5c-2.4,3.2-5.6,6.2-9,9.1
				c-6.8,5.7-14.6,10.4-23.2,13.6c-4.3,1.6-8.9,2.6-13.6,3.3c-4.7,0.6-9.6,0.6-14.5-0.2c-9.8-1.4-19.2-6.2-26.4-12.8
				c-0.5-0.4-0.9-0.8-1.4-1.2l-1.3-1.3c-0.8-0.9-1.7-1.7-2.5-2.7c-1.8-2.1-3.3-4.4-4.6-6.8c-1.2-2.4-2.3-4.9-3-7.5s-1.2-5.2-1.5-7.9
				c-0.3-5.5,0.2-11,2-16.2c0.4-1.3,1-2.6,1.5-3.9c0.6-1.2,1.2-2.5,2-3.7c1.4-2.4,3.1-4.6,5-6.5c3.7-4,8.2-7.1,13.1-9.3
				c2.5-1.1,5.1-1.9,7.7-2.5c2.7-0.6,5.4-0.8,8.2-0.9c5.4,0,9.8,4.3,9.8,9.7c0,5.3-4.1,9.6-9.3,9.8L39.8,44.7z"/>
			<path d="M65.6,53.2c2.5-1,4.9-2.5,6.8-4.5c1-1,1.8-2.1,2.5-3.2c0.7-1.1,1.3-2.4,1.7-3.7c0.8-2.6,1.2-5.6,0.7-8.4
				c-0.4-2.8-1.5-5.5-3.3-8.2c-1.8-2.6-4.3-5.1-7.3-7.2c-1.5-1.1-3-2.1-4.7-2.9c-1.6-0.9-3.5-1.7-5.3-2.4c-7.4-2.9-15.9-4.5-24.5-6.5
				c-1.4-0.3-2.2-1.7-1.9-3.1c0.2-1.1,1.1-1.8,2.1-1.9l0,0c4.4-0.6,8.8-1,13.4-1.2c2.3-0.1,4.6,0,6.9,0.1c2.3,0.1,4.7,0.4,7.1,0.7
				c9.5,1.5,19.5,5.6,27.1,13.7c3.7,4.1,6.8,9.2,8.3,15c1.5,5.7,1.5,11.7,0.1,17.5c-0.7,2.9-1.8,5.8-3.3,8.4c-1.5,2.6-3.3,5.1-5.3,7.2
				c-4.1,4.3-9.3,7.6-15.2,9.2c-5.2,1.5-10.6-1.5-12-6.7c-1.4-4.8,1.1-9.8,5.7-11.7L65.6,53.2z"/>
			<path d="M41.4,56.5c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C50.6,60.6,46.4,56.5,41.4,56.5z"/>
		</svg>

		<svg viewBox="0 0 120.4 93.4" v-if="enabled && computedValue == 6">
			<path d="M44.4,86.8c-1.6-4.4-3.3-8.8-5.5-13.1c-2.2-4.3-4.7-8.4-7.7-12.3c-3-3.9-6.4-7.6-10.2-11.1
				c-3.8-3.5-8-6.7-12.6-9.8l0,0c-1.2-0.8-1.5-2.4-0.7-3.6c0.5-0.8,1.4-1.2,2.2-1.1c6,0.2,12,1.7,17.7,4.1c5.7,2.4,11,5.8,15.8,9.8
				c4.8,4.1,9,8.9,12.4,14.3s6.1,11.3,7.5,17.6c1.2,5.3-2.2,10.5-7.4,11.6c-4.9,1.1-9.7-1.7-11.3-6.3L44.4,86.8z"/>
			<path d="M5.1,9.7C9.5,7.4,14.3,6.1,19,5.9c2.3-0.2,4.6,0,6.8,0.3s4.3,0.8,6.4,1.4c4.1,1.2,7.9,3,11.5,5.1
				c3.5,2.1,6.5,4.4,9.4,6.8c5.7,4.7,10.3,9.7,14.9,13.8c2.3,2,4.6,3.9,6.9,5.5c2.4,1.6,4.8,2.9,7.2,3.9c2.4,0.9,4.8,1.6,7.2,1.7h0.9
				H91c0.6,0,1.1-0.1,1.7-0.1s1.1-0.2,1.7-0.3c0.6-0.2,1.1-0.3,1.7-0.5c4.6-1.6,8.9-5.1,11.3-9.6c1.2-2.2,2-4.7,2.2-7.3
				s-0.1-5.4-0.9-8.1c-0.2-0.7-0.5-1.3-0.7-2c-0.3-0.7-0.6-1.3-0.9-2c-0.4-0.6-0.7-1.3-1.1-1.9c-0.4-0.6-0.8-1.2-1.2-1.8l-0.8-1
				c-0.2-0.3-0.5-0.5-0.7-0.8c-0.5-0.6-1-1.1-1.6-1.6c-0.5-0.5-1.1-0.9-1.7-1.4s-1.2-0.8-1.9-1.3l-0.2-0.1c-1.1-0.8-1.4-2.3-0.7-3.5
				c0.6-0.9,1.8-1.3,2.8-1c7.2,2.2,13.4,7.7,17,14.7c1.8,3.5,3,7.4,3.3,11.5s-0.3,8.4-1.7,12.3c-0.7,2-1.6,3.9-2.7,5.7
				c-0.6,0.9-1.1,1.8-1.8,2.6c-0.7,0.8-1.3,1.7-2,2.4c-2.8,3.1-6.2,5.7-10.1,7.7c-1,0.5-2,0.9-3,1.3c-1,0.3-2.1,0.7-3.2,1
				s-2.2,0.5-3.3,0.7l-1.7,0.2l-1.6,0.1c-1.1,0.1-2.2,0-3.3,0c-1.1-0.1-2.2-0.1-3.2-0.3c-2.1-0.2-4.2-0.8-6.2-1.3
				c-4-1.2-7.6-2.9-11-4.8c-3.4-1.9-6.5-4.1-9.4-6.4c-5.7-4.5-10.7-9.1-15.5-12.9c-2.4-1.9-4.8-3.5-7.1-4.9c-2.2-1.3-4.6-2.3-7-3
				c-1.2-0.4-2.4-0.6-3.5-0.8c-1.1-0.1-2.3-0.2-3.3-0.2c-0.5,0-1,0.1-1.5,0.1c-0.5,0.1-1,0.1-1.4,0.3c-0.9,0.2-1.8,0.5-2.6,0.9
				l-0.9,0.4c-5,2-10.6-0.5-12.6-5.5C-1.1,17.2,0.8,12,5.1,9.7z"/>
			<path d="M88.3,18.5c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C97.5,22.6,93.3,18.5,88.3,18.5z"/>
		</svg>

		<svg viewBox="0 0 103.1 98.6" v-if="enabled && computedValue == 7">
			<path d="M75.6,18.3c-9.2,5.1-17.4,11.8-22.6,20c-1.3,2.1-2.4,4.2-3.3,6.4c-0.9,2.2-1.6,4.4-2,6.7s-0.6,4.7-0.6,7.1
				c0.1,2.4,0.4,4.7,0.9,7c0.5,2.3,1.4,4.5,2.4,6.5c0.3,0.5,0.5,1,0.8,1.5l0.9,1.5c0.7,0.9,1.3,1.8,2.2,2.7c3,3.5,7.4,6,12.3,7.9
				c2.5,0.9,5.1,1.6,7.8,2.1c2.7,0.6,5.5,0.9,8.4,1.1c5.7,0.5,11.7,0.4,17.8,0.5c1.4,0,2.5,1.2,2.5,2.6c0,1.2-0.8,2.1-1.9,2.4
				c-5.9,1.5-11.9,2.9-18.1,3.6c-3.1,0.3-6.4,0.6-9.6,0.5c-3.3-0.1-6.6-0.4-9.9-1c-3.3-0.6-6.7-1.7-9.9-3.1c-3.2-1.5-6.4-3.3-9.3-5.7
				c-1.5-1.2-2.7-2.5-4-3.9l-1.8-2.2C38,81.8,37.5,81,37,80.2c-2-3.1-3.8-6.4-4.9-9.9c-1.2-3.5-2-7-2.4-10.6s-0.4-7.3,0-10.9
				c0.4-3.6,1.2-7.3,2.4-10.8c1.1-3.5,2.7-6.7,4.5-9.8s3.8-6,6.1-8.7s4.7-5.2,7.3-7.5c4.9-4.4,10.7-8.1,16.8-11
				c4.9-2.3,10.7-0.3,13,4.6C82,10.2,80.2,15.8,75.6,18.3L75.6,18.3z"/>
			<path d="M3.1,83.8c-2-6.6-2.9-13.5-3.1-20.5c-0.2-6.9,0.6-13.9,2.2-20.7c1.6-6.7,4.2-13.3,7.6-19.2s7.6-11.3,12.6-15.7
				c1.1-0.9,2.7-0.8,3.6,0.2c0.6,0.7,0.8,1.7,0.5,2.6l0,0c-2.2,5.9-4,11.7-5.3,17.5c-1.3,5.8-2.1,11.5-2.3,17.2
				c-0.3,5.7-0.1,11.4,0.5,17s1.5,11.2,2.6,16.9v0.1c1,5.3-2.5,10.4-7.8,11.4C9.3,91.5,4.5,88.5,3.1,83.8z"/>
			<path d="M71.6,51.6c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C80.8,55.7,76.7,51.6,71.6,51.6z"/>
		</svg>

		<svg viewBox="0 0 109.6 105" v-if="enabled && computedValue == 8">
			<path d="M68.3,90.8c-2.4,0.5-4.9,0.6-7.3,0.6c-2.4-0.1-4.8-0.5-7.2-1.1c-2.3-0.6-4.6-1.5-6.8-2.5
				c-2.2-1.1-4.2-2.4-6.1-3.8c-1.9-1.5-3.7-3.2-5.2-5c-1.6-1.9-2.9-4-4-6.1c-1.1-2.2-1.9-4.4-2.6-6.7c-0.6-2.3-0.9-4.6-1.1-6.9
				c-0.1-2.3,0-4.6,0.3-6.9c0.3-2.3,0.9-4.5,1.7-6.7c0.8-2.1,1.8-4.2,3.1-6.1c1.3-1.9,2.7-3.6,4.2-5.1c6.2-6.1,14.8-9.3,22.8-8.3
				c1.4,0.2,2.4,1.4,2.2,2.8c-0.1,1-0.8,1.8-1.7,2.1h-0.1c-6.2,2.2-11,6.4-13.7,11.2c-0.7,1.2-1.2,2.4-1.6,3.7
				c-0.4,1.2-0.7,2.5-0.8,3.7c-0.1,1.3-0.2,2.5-0.1,3.8c0.1,1.3,0.3,2.5,0.6,3.7s0.7,2.4,1.2,3.5s1.1,2.1,1.7,3.1
				c0.7,0.9,1.4,1.7,2.2,2.5c0.8,0.7,1.7,1.5,2.6,2.1c3.8,2.5,8.6,3.6,12.8,3.2h0.4C71,71,75.7,75,76.2,80.4
				C76.6,85.4,73.1,89.8,68.3,90.8z"/>
			<path d="M0.2,59.6c-1-10.6,1.3-21.2,6.1-30.4c2.4-4.6,5.5-8.9,9.1-12.7s7.9-7.1,12.5-9.6c9.2-5.1,19.6-7.3,29.9-6.8
				C63,0.4,68.1,1.4,73,3.2c4.9,1.7,9.4,4.2,13.5,7.1c4.1,3,7.8,6.5,10.9,10.4c3.1,4,5.7,8.3,7.6,12.9s3.2,9.4,3.9,14.2
				c0.7,4.8,0.8,9.8,0.1,14.6c-0.6,4.8-1.9,9.6-3.7,14c-1.9,4.4-4.4,8.5-7.3,12.2c-5.7,7.4-13.4,13.1-22,16.3
				c-1.3,0.5-2.7-0.2-3.2-1.5c-0.4-1.1,0-2.4,1.1-3l0,0c14-8.5,23-23.9,23-38.9c0.1-7.6-1.8-15.1-5.2-21.6c-1.7-3.3-3.8-6.2-6.3-8.9
				c-2.5-2.6-5.3-4.9-8.3-6.8c-3-1.9-6.3-3.4-9.6-4.3c-3.3-1-6.8-1.4-10.2-1.5c-7,0-13.9,1.9-19.7,5.3c-2.9,1.7-5.5,3.9-7.8,6.3
				c-2.3,2.5-4.3,5.3-5.8,8.3c-3.1,6.1-4.7,13-4.3,19.6v0.2c0.3,5.4-3.9,9.9-9.3,10.2C5.2,68.6,0.7,64.7,0.2,59.6z"/>
			<path d="M67.3,40.8c-5.1,0-9.2,4.1-9.2,9.2c0.4,12.2,17.9,12.2,18.4,0C76.5,44.9,72.4,40.8,67.3,40.8z"/>
		</svg>

		<svg viewBox="0 0 124.9 103.5" v-if="enabled && computedValue == 9">
			<path d="M26.6,78.8c-6.8-3.9-11.9-9.8-15.3-16.2C8,56.2,6.2,49,6.2,41.7s2.1-15.1,6.7-21.5c2.3-3.2,5.2-6,8.5-8.1
				c0.4-0.3,0.8-0.5,1.2-0.8l1.4-0.8c0.9-0.5,1.9-0.9,2.9-1.3c2-0.8,4.3-1.3,6.6-1.5s4.8,0.1,7.1,0.8s4.5,1.8,6.3,3.2
				c0.9,0.7,1.8,1.4,2.5,2.2c0.4,0.4,0.7,0.7,1.2,1.3l0.6,0.7c0.2,0.2,0.3,0.5,0.5,0.7c1.3,1.9,2,3.6,2.6,5s1.1,2.7,1.5,3.6
				c0.4,1,0.8,1.6,0.9,1.9c0.1,0.2,0.1,0.2,0.1,0.3c0.1,0.1,0.4,0.3,0.6,0.4c0.4,0.2,0.9,0.4,1.7,0.3c1.5,0,3.7-0.7,5.8-1.9
				c2.2-1.1,4.3-2.6,6.5-4.3c2.2-1.6,4.3-3.4,6.4-5.3s4.2-3.8,6.6-5.7c1.1-0.9,2.7-0.7,3.5,0.4c0.7,0.9,0.7,2.1,0.1,3v0.1
				c-1.6,2.2-3.2,4.7-4.8,7c-1.7,2.4-3.5,4.7-5.4,7.1c-2,2.3-4.1,4.5-6.7,6.6c-2.6,2-5.6,4-9.7,5.1c-2,0.5-4.4,0.7-6.8,0.2
				c-1.2-0.2-2.3-0.6-3.5-1.1c-1.3-0.6-2.4-1.3-3.4-2.2c-2-1.7-3.2-3.4-4.2-4.9c-1-1.5-1.7-2.9-2.4-4s-1.3-2-1.7-2.4l-0.1-0.1
				c0,0-0.1,0-0.1-0.1l-0.3-0.2c-0.3-0.2-0.6-0.4-0.8-0.5c-1-0.5-1.8-0.5-2.8-0.3c-0.5,0.1-1.1,0.3-1.6,0.7c-0.3,0.1-0.6,0.4-0.9,0.6
				l-0.5,0.3c-0.2,0.1-0.4,0.3-0.5,0.4c-1.4,1.2-2.6,2.5-3.5,4c-1.8,3-2.6,6.8-2.5,10.9c0.2,4.1,1.4,8.3,3.3,11.9
				c1.9,3.7,4.7,6.7,7.7,8.7l0.3,0.2c4.4,3,5.6,9.1,2.6,13.5C36.6,80,31,81.3,26.6,78.8z"/>
			<path d="M123.9,13.8c-1,2.1-2.1,4-3.3,5.8c-1.2,1.8-2.6,3.5-3.9,5c-2.7,3.1-5.6,5.7-8.4,8.2c-1.4,1.2-2.8,2.4-4.1,3.5
				l-1.9,1.7l-0.9,0.8l-0.8,0.7c-2.2,2-4.1,4-5.7,6.2s-2.9,4.6-4.1,7.2c-1.2,2.6-2.1,5.4-3.1,8.8c-1,3.3-2,6.8-3.3,10.4
				s-2.9,7.4-5.2,11.1c-2.2,3.7-5.2,7.1-8.5,9.9s-6.9,5-10.8,6.7c-3.9,1.6-7.9,2.7-12.1,3.2c-4.1,0.5-8.4,0.4-12.5-0.5
				s-8-2.5-11.4-4.6s-6.4-4.5-9.1-7.1C9.3,85.7,4.9,80.1,0.6,74.7l0,0C-0.3,73.6-0.1,72,1,71.2c0.9-0.7,2.2-0.7,3.1,0
				c5.6,4.3,10.8,9,16.4,12.7c5.4,3.7,11.2,6.2,16.7,6.6c2.8,0.2,5.6-0.1,8.3-0.8c2.7-0.7,5.4-1.8,7.9-3.2c2.5-1.4,4.7-3.1,6.5-5
				c0.9-1,1.8-2,2.5-3.1s1.4-2.2,2-3.4c1.2-2.4,2.2-5.2,3-8.2s1.5-6.3,2.4-9.7l0.6-2.6l0.3-1.3l0.4-1.4c0.5-1.9,1.1-3.8,1.9-5.8
				c1.4-3.9,3.4-7.7,5.8-11.2c1.2-1.8,2.5-3.5,3.9-5c1.4-1.6,2.8-3.1,4.3-4.5l1.1-1l1-0.9l2-1.8l3.9-3.4c5-4.4,9-8.5,11.3-12.8
				l0.2-0.3c2.5-4.7,8.4-6.5,13.2-4C124.4,3.4,126.2,9.1,123.9,13.8z"/>
			<path d="M48.9,44.7c-5.1,0-9.2,4.1-9.2,9.2C40.1,66,57.6,66,58,53.9C58,48.8,53.9,44.7,48.9,44.7z"/>
		</svg>


	</div>
</template>

<script lang="ts">
import { Component, Inject, Model, Prop, Vue, Watch, Provide } from "vue-property-decorator";
import gsap, { MorphSVGPlugin, TimelineMax, TweenLite, Linear } from 'gsap/all';

@Component({
	components:{
	}
})
export default class AlienLetter extends Vue {

	@Prop()
	public value!:number;

	@Prop()
	public isSlot:boolean;

	@Prop()
	public enabled:boolean;

	public timelines:TimelineMax[];
	public computedValue:number = null;

	public get classes():any {
		let res = ["alienletter"];
		if(!this.enabled) res.push("disabled");
		return res;
	}
	
	public mounted():void {
		this.computedValue = this.value;
		this.$nextTick().then(_=> {
			this.start();
		})
	}

	public beforeDestroy():void {
		
	}

	private start():void {
		if(this.isSlot) {
			let paths = this.$el.getElementsByTagName("path");
			this.timelines = [];
			for (let i = 0; i < paths.length; i++) {
				this.timelines.push(this.waveSVG(paths[i], {
					taperStart:0,
					loose:true,
					invertFlow:Math.random()>.5,
					length:(this.isSlot?  80 : 50),
					angle:Math.random()*360,
					magnitude:Math.random() + (this.isSlot?  2 : 1),
					phase:0,
					duration:Math.random() + (this.isSlot?  1 : 2),
					start:0,
					repeat:-1}))
			};
		}
		gsap.set(this.$el, {scale:1});
		gsap.from(this.$el, {duration:1, scale:0, ease:"elastic.out(1, .4)"});

		if(!this.isSlot) {
			gsap.to(this.$refs.circle, {duration:1+Math.random(), scaleX:1.025+Math.random()*.05, ease:"sine.inOut", yoyo:true, repeat:-1, delay:Math.random()})
			gsap.to(this.$refs.circle, {duration:1+Math.random(), scaleY:1.025+Math.random()*.05, ease:"sine.inOut", yoyo:true, repeat:-1, delay:Math.random()})
		}
	}

	@Watch("value")
	private onValueChange(newV, oldV):void {
		//Cleanup previous animations
		for (let i = 0; i < this.timelines.length; i++) {
			this.timelines[i].clear();
		}
		
		if(newV == null) {
			gsap.to(this.$el, {duration:.3, scale:0, ease:"back.in(2.8)", onComplete:_=> {
				this.computedValue = this.value;
			}});
		}else{
			this.computedValue = this.value;
			this.$nextTick().then(_=> {
				this.start();
			})
		}
	}


	//Function from GreenSock's pen :
	//https://codepen.io/GreenSock/pen/WQjRXE
	private waveSVG(e, vars) {
		var _placeDot = function (x, y, vars) {
			var _createSVG = function(type, attributes) {
						var element = document.createElementNS("http://www.w3.org/2000/svg", type),
								reg = /([a-z])([A-Z])/g,
								p;
						for (p in attributes) {
							element.setAttributeNS(null, p.replace(reg, "$1-$2").toLowerCase(), attributes[p]);
						}
						return element;
					},
					dot = _createSVG("circle", {cx:x, cy:y, r:vars.size || 6, fill:vars.color || "red"}),
					container = vars.container || document.querySelector("svg");
			if (container) {
				container.appendChild(dot);
			}
			return dot;
		},
		_transformBezier = function(b, matrix) {
			let i, x, y;
			if (matrix && (matrix.a !== 1 || matrix.b || matrix.c || matrix.d !== 1 || matrix.e || matrix.f)) {
			for (i = 0; i < b.length; i+=2) {
				x = b[i];
				y = b[i+1];
				b[i] = x * matrix.a + y * matrix.c + matrix.e;
				b[i+1] = x * matrix.b + y * matrix.d + matrix.f;
			}
			}
			return b;
		},
		_getLength = function(x, y, x2, y2) {
			x = x2 - x;
			y = y2 - y;
			return Math.sqrt(x * x + y * y);
		},
		_getTotalLength = function(bezier, start, end) {
			var x = bezier[start],
					y = bezier[start+1],
					length = 0,
					i;
			for (i = start; i < end; i += 2) {
				length += _getLength(x, y, x=bezier[i], bezier[i+1]);
			}
			return length;
		},
		_DEG2RAD = Math.PI / 180,
		_RAD2DEG = 180 / Math.PI,
		bezier = _transformBezier(MorphSVGPlugin.getRawPath(e.getAttribute("d"))[0], (debug && e.transform.baseVal.length) ? e.transform.baseVal.consolidate().matrix : null),
		start = (vars.start || 0) * 2,
		end = (vars.end === 0) ? 0 : (vars.end * 2) || (bezier.length - 1),
		length = vars.length || 100,
		magnitude = vars.magnitude || 50,
		proxy = {a:0},
		debug = !!vars.debug,
		phase = (vars.phase || 0) * _DEG2RAD,
		taperStart = vars.taperStart || 0,
		taperEnd = vars.taperEnd || 0,
		startX = bezier[start],
		startY = bezier[start + 1],
		changes = [],
		bezierLength = 0,
		loose = !!vars.loose,//if true, we'll just make the points influence the current positions instead of forcing them strictly onto the wave.
		tl = new TimelineMax({repeat:vars.repeat}),
		bezierTotalLength, angle, i, x, y, dx, dy, sin, cos, sin2, cos2, m, pathStart, t, negCos, negSin, rotatedStartX;
		if (end >= bezier.length-1) {
			end = bezier.length - 2;
		}
		if (start >= bezier.length) {
			start = bezier.length - 1;
		}
		bezierTotalLength = _getTotalLength(bezier, start, end);

		dx = bezier[end] - startX;
		dy = bezier[end+1] - startY;
		if (vars.angle || vars.angle === 0) {
			angle = vars.angle * _DEG2RAD;
		} else {
			angle = Math.atan2(dy, dx) - Math.PI / 2;
		}
		sin = Math.sin(angle);
		cos = Math.cos(angle);
		sin2 = Math.sin(angle + Math.PI / 2);
		cos2 = Math.cos(angle + Math.PI / 2);
		negCos = Math.cos(-angle);
		negSin = Math.sin(-angle);
		rotatedStartX = startX * negCos + startY * negSin;

		if (debug) { //note: if debug is true, we drop a red dot at the beginning, yellow at the end, blue dots as control points, and purple as anchors.
			_placeDot(bezier[start], bezier[start + 1], {container: e.parentNode, color:"red"});
			_placeDot(bezier[end], bezier[end + 1], {container: e.parentNode, color:"yellow"});
			console.log("waveSVG() angle: ", angle * _RAD2DEG, "degrees. RED dot is start, YELLOW is end.");
		}

		x = startX;
		y = startY;
	
		for (i = start; i <= end; i += 2) {
			bezierLength += _getLength(x, y, x=bezier[i], y=bezier[i+1]);
			dx = x * negCos + y * negSin; //rotated in the opposite direction
			dy = x * negSin + y * negCos;
			t = (taperStart && bezierLength < taperStart) ? bezierLength / taperStart : (taperEnd && bezierLength > bezierTotalLength - taperEnd && bezierLength < bezierTotalLength) ? ((bezierTotalLength - bezierLength) / taperEnd) : 1; //taper
			m = Math.sin((dx / length) * Math.PI * 2 + phase) * magnitude;
			changes.push( {i: i - (start ? 2 : 0), p:dx, a: (dx / length) * Math.PI * 2 + phase, t:t, x: loose ? x - m * sin * t : startX + (dx - rotatedStartX) * cos2 * t, y: loose ? y - m * cos * t : startY + (dx - rotatedStartX) * sin2 * t, smooth: (i % 6 === 0 && i > start && i < end) ? Math.abs( Math.atan2(y - bezier[i-1], x - bezier[i-2]) - Math.atan2(bezier[i+3] - y, bezier[i+2] - x) ) < 0.01 : false} );
			if (debug) {
				changes[changes.length-1].dot = _placeDot(x, y, {container: e.parenNode, size:3, color: (i % 6) ? "blue" : "purple"});
			}
		}
		//when we're not animating the first point, optimize things by taking out the first x/y and treat them independently so we can merely bezier.join(",") on each update.
		if (start) {
			pathStart = "M" + bezier.shift() + "," + bezier.shift() + " C";
		}

		tl.to(proxy, vars.duration || 3, {a:Math.PI * (vars.invertFlow ? -2 : 2), ease:vars.ease || Linear.easeNone, onUpdate:function() {
			// console.log("ok");
			var l = changes.length,
					angle = proxy.a,
					node, i, m, x, y, x2, y2, x1, y1, cp, dx, dy, d, a, cpCos, cpSin;
			for (i = 0; i < l; i++) {
				node = changes[i];
				if (node.smooth || i === l - 1 || !changes[i + 1].smooth) {
					m = Math.sin(node.a + angle) * magnitude * node.t;
					bezier[node.i] = x = node.x + m * sin;
					bezier[node.i + 1] = y = node.y + m * cos;

					if (node.smooth) { //make sure smooth anchors stay smooth!
						cp = changes[i - 1];
						m = Math.sin(cp.a + angle) * magnitude * cp.t;
						x1 = cp.x + m * sin;
						y1 = cp.y + m * cos;

						cp = changes[i + 1];
						m = Math.sin(cp.a + angle) * magnitude * cp.t;
						x2 = cp.x + m * sin;
						y2 = cp.y + m * cos;

						a = Math.atan2(y2 - y1, x2 - x1);
						cpCos = Math.cos(a);
						cpSin = Math.sin(a);

						dx = x2 - x;
						dy = y2 - y;
						d = Math.sqrt(dx * dx + dy * dy);
						bezier[cp.i] = x + cpCos * d;
						bezier[cp.i + 1] = y + cpSin * d;

						cp = changes[i - 1];
						dx = x1 - x;
						dy = y1 - y;
						d = Math.sqrt(dx * dx + dy * dy);
						bezier[cp.i] = x - cpCos * d;
						bezier[cp.i + 1] = y - cpSin * d;
						i++;
					}
				}
			}
			if (debug) {
				for (i = 0; i < l; i++) {
					node = changes[i];
					node.dot.setAttribute("cx", bezier[node.i]);
					node.dot.setAttribute("cy", bezier[node.i + 1]);
				}
			} else if (start) {
				e.setAttribute("d", pathStart + bezier.join(","));
			} else {
				e.setAttribute("d", "M" + bezier[0] + "," + bezier[1] + " C" + bezier.slice(2).join(","));
			}
		}});
		return tl;
	}

}
</script>

<style scoped lang="less">
@import (reference) '../less/_includes.less';
.alienletter{
	cursor: pointer;
	padding: 15px;
	user-select: none;
	box-sizing: border-box;
	transition: padding .25s, border-width .25s;
	position: relative;

	&.disabled {
		pointer-events: none;
	}

	.circle {
		position: absolute;
		top: 0;
		left: 0;
		border-radius: 50%;
		border: 1px solid @mainColor_skin;
		width: 100%;
		height: 100%;
		&.dotted {
			border-style: dashed;
		}
	}
	
	&:hover {
		padding: 10px;
		border-width: 5px;
	}

	svg {
		width: 100%;
		height: 100%;
		fill: @mainColor_skin;
	}
}
</style>